<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>CPU</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.68.1">
<link rel="start" href="index.html" title="Liboil Reference Manual">
<link rel="up" href="ch02.html" title="Liboil Unstable API">
<link rel="prev" href="liboil-liboilinit-unstable.html" title="Intialization">
<link rel="next" href="liboil-liboildebug.html" title="Debug">
<meta name="generator" content="GTK-Doc V1.7 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
<link rel="chapter" href="ch01.html" title="Liboil Stable API">
<link rel="chapter" href="ch02.html" title="Liboil Unstable API">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2">
<tr valign="middle">
<td><a accesskey="p" href="liboil-liboilinit-unstable.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="ch02.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">Liboil Reference Manual</th>
<td><a accesskey="n" href="liboil-liboildebug.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr>
<tr><td colspan="5" class="shortcuts"><nobr><a href="#id2542534" class="shortcut">Top</a>
                  &#160;|&#160;
                  <a href="#id2564422" class="shortcut">Description</a></nobr></td></tr>
</table>
<div class="refentry" lang="en">
<a name="liboil-liboilcpu"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2>
<a name="id2542534"></a><span class="refentrytitle">CPU</span>
</h2>
<p>CPU &#8212; Check the capabilities of the current CPU</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsynopsisdiv">
<h2>Synopsis</h2>
<pre class="synopsis">



unsigned int <a href="liboil-liboilcpu.html#oil-cpu-get-flags">oil_cpu_get_flags</a>              (void);
void        <a href="liboil-liboilcpu.html#oil-cpu-fault-check-enable">oil_cpu_fault_check_enable</a>      (void);
void        <a href="liboil-liboilcpu.html#oil-cpu-fault-check-disable">oil_cpu_fault_check_disable</a>     (void);
int         <a href="liboil-liboilcpu.html#oil-cpu-fault-check-try">oil_cpu_fault_check_try</a>         (void (*func) (void *),
                                             void *priv);
double      <a href="liboil-liboilcpu.html#oil-cpu-get-ticks-per-second">oil_cpu_get_ticks_per_second</a>    (void);
</pre>
</div>
<div class="refsect1" lang="en">
<a name="id2564422"></a><h2>Description</h2>
<p>
</p>
<p>

</p>
</div>
<div class="refsect1" lang="en">
<a name="id2537124"></a><h2>Details</h2>
<div class="refsect2" lang="en">
<a name="id2537134"></a><h3>
<a name="oil-cpu-get-flags"></a>oil_cpu_get_flags ()</h3>
<a class="indexterm" name="id2537147"></a><pre class="programlisting">unsigned int oil_cpu_get_flags              (void);</pre>
<p>
Returns a bitmask containing the available CPU features.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td>
<span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> the CPU features.
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2537188"></a><h3>
<a name="oil-cpu-fault-check-enable"></a>oil_cpu_fault_check_enable ()</h3>
<a class="indexterm" name="id2555317"></a><pre class="programlisting">void        oil_cpu_fault_check_enable      (void);</pre>
<p>
Enables fault checking mode.  This function may be called multiple times.
Each call to this function must be paired with a corresponding call
to <a href="liboil-liboilcpu.html#oil-cpu-fault-check-disable"><code class="function">oil_cpu_fault_check_disable()</code></a>.
</p>
<p>
This function sets a signal handler for SIGILL.</p>
<p>

</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2555357"></a><h3>
<a name="oil-cpu-fault-check-disable"></a>oil_cpu_fault_check_disable ()</h3>
<a class="indexterm" name="id2555368"></a><pre class="programlisting">void        oil_cpu_fault_check_disable     (void);</pre>
<p>
Disables fault checking mode.  See <a href="liboil-liboilcpu.html#oil-cpu-fault-check-enable"><code class="function">oil_cpu_fault_check_enable()</code></a>
for details.</p>
<p>

</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2534774"></a><h3>
<a name="oil-cpu-fault-check-try"></a>oil_cpu_fault_check_try ()</h3>
<a class="indexterm" name="id2534786"></a><pre class="programlisting">int         oil_cpu_fault_check_try         (void (*func) (void *),
                                             void *priv);</pre>
<p>
Calls to this
function must be preceded by a call to <a href="liboil-liboilcpu.html#oil-cpu-fault-check-enable"><code class="function">oil_cpu_fault_check_enable()</code></a>
to enable fault checking mode.  This function sets up recovery
information and then calls the function <em class="parameter"><code>func</code></em> with the parameter
<em class="parameter"><code>priv</code></em>.  If <em class="parameter"><code>func</code></em> or any other functions it calls attempt to execute
an illegal instruction, the exception will be caught and recovered from.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><em class="parameter"><code>func</code></em>&#160;:</span></td>
<td> the function to attempt
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>priv</code></em>&#160;:</span></td>
<td> a value to pass to the function
</td>
</tr>
<tr>
<td>
<span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> 1 if the function was executed sucessfully, 0 if the
function attempted to execute an illegal instruction.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2539239"></a><h3>
<a name="oil-cpu-get-ticks-per-second"></a>oil_cpu_get_ticks_per_second ()</h3>
<a class="indexterm" name="id2539250"></a><pre class="programlisting">double      oil_cpu_get_ticks_per_second    (void);</pre>
<p>
Returns the estimated number of ticks per second.  This feature
is currently unimplemented.
</p>
<p>
This function may take several milliseconds or more to execute
in order to calculate a good estimate of the number of ticks (as
measured by the profiling functions) per second.  Note that the
number of ticks per second is often dependent on the CPU frequency,
which can change dynamically.  Thus the value returned by this
function may be incorrect as soon as it is returned.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td>
<span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> a double
</td>
</tr></tbody>
</table></div>
</div>
</div>
</div>
</body>
</html>
