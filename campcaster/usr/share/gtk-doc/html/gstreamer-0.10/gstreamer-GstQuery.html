<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>GstQuery</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.72.0">
<link rel="start" href="index.html" title="GStreamer 0.10 Core Reference Manual">
<link rel="up" href="libgstreamer.html" title="GStreamer Core Library">
<link rel="prev" href="GstPluginFeature.html" title="GstPluginFeature">
<link rel="next" href="GstRegistry.html" title="GstRegistry">
<meta name="generator" content="GTK-Doc V1.8 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
<link rel="chapter" href="gstreamer.html" title="GStreamer Overview">
<link rel="chapter" href="libgstreamer.html" title="GStreamer Core Library">
<link rel="chapter" href="gstreamer-support.html" title="GStreamer Core Support">
<link rel="chapter" href="gstreamer-hierarchy.html" title="Object Hierarchy">
<link rel="index" href="api-index.html" title="Index">
<link rel="index" href="ix02.html" title="Index of deprecated symbols">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2">
<tr valign="middle">
<td><a accesskey="p" href="GstPluginFeature.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="libgstreamer.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">GStreamer 0.10 Core Reference Manual</th>
<td><a accesskey="n" href="GstRegistry.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr>
<tr><td colspan="5" class="shortcuts"><nobr><a href="#id2790782" class="shortcut">Top</a>
                  &#160;|&#160;
                  <a href="#id2791982" class="shortcut">Description</a></nobr></td></tr>
</table>
<div class="refentry" lang="en">
<a name="gstreamer-GstQuery"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2>
<a name="id2790782"></a><span class="refentrytitle">GstQuery</span>
</h2>
<p>GstQuery &#8212; Dynamically register new query types. Provide functions
                    to create queries, and to set and parse values in them.</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsynopsisdiv">
<h2>Synopsis</h2>
<pre class="synopsis">

#include &lt;gst/gst.h&gt;


                    <a href="gstreamer-GstQuery.html#GstQuery">GstQuery</a>;
enum                <a href="gstreamer-GstQuery.html#GstQueryType">GstQueryType</a>;
#define             <a href="gstreamer-GstQuery.html#GST-QUERY-TYPE:CAPS">GST_QUERY_TYPE</a>                      (query)
#define             <a href="gstreamer-GstQuery.html#GST-QUERY-TYPE-NAME:CAPS">GST_QUERY_TYPE_NAME</a>                 (query)
                    <a href="gstreamer-GstQuery.html#GstQueryTypeDefinition">GstQueryTypeDefinition</a>;
const gchar*        <a href="gstreamer-GstQuery.html#gst-query-type-get-name">gst_query_type_get_name</a>             (<a href="gstreamer-GstQuery.html#GstQueryType">GstQueryType</a> query);
GQuark              <a href="gstreamer-GstQuery.html#gst-query-type-to-quark">gst_query_type_to_quark</a>             (<a href="gstreamer-GstQuery.html#GstQueryType">GstQueryType</a> query);
<a href="gstreamer-GstQuery.html#GstQueryType">GstQueryType</a>        <a href="gstreamer-GstQuery.html#gst-query-type-register">gst_query_type_register</a>             (const gchar *nick,
                                                         const gchar *description);
<a href="gstreamer-GstQuery.html#GstQueryType">GstQueryType</a>        <a href="gstreamer-GstQuery.html#gst-query-type-get-by-nick">gst_query_type_get_by_nick</a>          (const gchar *nick);
gboolean            <a href="gstreamer-GstQuery.html#gst-query-types-contains">gst_query_types_contains</a>            (const <a href="gstreamer-GstQuery.html#GstQueryType">GstQueryType</a> *types,
                                                         <a href="gstreamer-GstQuery.html#GstQueryType">GstQueryType</a> type);
const <a href="gstreamer-GstQuery.html#GstQueryTypeDefinition">GstQueryTypeDefinition</a>* <a href="gstreamer-GstQuery.html#gst-query-type-get-details">gst_query_type_get_details</a>
                                                        (<a href="gstreamer-GstQuery.html#GstQueryType">GstQueryType</a> type);
<a href="gstreamer-GstIterator.html#GstIterator">GstIterator</a>*        <a href="gstreamer-GstQuery.html#gst-query-type-iterate-definitions">gst_query_type_iterate_definitions</a>  (void);
#define             <a href="gstreamer-GstQuery.html#gst-query-ref">gst_query_ref</a>                       (q)
#define             <a href="gstreamer-GstQuery.html#gst-query-unref">gst_query_unref</a>                     (q)
#define             <a href="gstreamer-GstQuery.html#gst-query-copy">gst_query_copy</a>                      (q)
#define             <a href="gstreamer-GstQuery.html#gst-query-make-writable">gst_query_make_writable</a>             (q)
<a href="gstreamer-GstQuery.html#GstQuery">GstQuery</a>*           <a href="gstreamer-GstQuery.html#gst-query-new-application">gst_query_new_application</a>           (<a href="gstreamer-GstQuery.html#GstQueryType">GstQueryType</a> type,
                                                         <a href="gstreamer-GstStructure.html#GstStructure">GstStructure</a> *structure);
<a href="gstreamer-GstStructure.html#GstStructure">GstStructure</a>*       <a href="gstreamer-GstQuery.html#gst-query-get-structure">gst_query_get_structure</a>             (<a href="gstreamer-GstQuery.html#GstQuery">GstQuery</a> *query);
<a href="gstreamer-GstQuery.html#GstQuery">GstQuery</a>*           <a href="gstreamer-GstQuery.html#gst-query-new-convert">gst_query_new_convert</a>               (<a href="gstreamer-GstFormat.html#GstFormat">GstFormat</a> src_format,
                                                         gint64 value,
                                                         <a href="gstreamer-GstFormat.html#GstFormat">GstFormat</a> dest_format);
void                <a href="gstreamer-GstQuery.html#gst-query-set-convert">gst_query_set_convert</a>               (<a href="gstreamer-GstQuery.html#GstQuery">GstQuery</a> *query,
                                                         <a href="gstreamer-GstFormat.html#GstFormat">GstFormat</a> src_format,
                                                         gint64 src_value,
                                                         <a href="gstreamer-GstFormat.html#GstFormat">GstFormat</a> dest_format,
                                                         gint64 dest_value);
void                <a href="gstreamer-GstQuery.html#gst-query-parse-convert">gst_query_parse_convert</a>             (<a href="gstreamer-GstQuery.html#GstQuery">GstQuery</a> *query,
                                                         <a href="gstreamer-GstFormat.html#GstFormat">GstFormat</a> *src_format,
                                                         gint64 *src_value,
                                                         <a href="gstreamer-GstFormat.html#GstFormat">GstFormat</a> *dest_format,
                                                         gint64 *dest_value);
<a href="gstreamer-GstQuery.html#GstQuery">GstQuery</a>*           <a href="gstreamer-GstQuery.html#gst-query-new-position">gst_query_new_position</a>              (<a href="gstreamer-GstFormat.html#GstFormat">GstFormat</a> format);
void                <a href="gstreamer-GstQuery.html#gst-query-set-position">gst_query_set_position</a>              (<a href="gstreamer-GstQuery.html#GstQuery">GstQuery</a> *query,
                                                         <a href="gstreamer-GstFormat.html#GstFormat">GstFormat</a> format,
                                                         gint64 cur);
void                <a href="gstreamer-GstQuery.html#gst-query-parse-position">gst_query_parse_position</a>            (<a href="gstreamer-GstQuery.html#GstQuery">GstQuery</a> *query,
                                                         <a href="gstreamer-GstFormat.html#GstFormat">GstFormat</a> *format,
                                                         gint64 *cur);
<a href="gstreamer-GstQuery.html#GstQuery">GstQuery</a>*           <a href="gstreamer-GstQuery.html#gst-query-new-duration">gst_query_new_duration</a>              (<a href="gstreamer-GstFormat.html#GstFormat">GstFormat</a> format);
void                <a href="gstreamer-GstQuery.html#gst-query-set-duration">gst_query_set_duration</a>              (<a href="gstreamer-GstQuery.html#GstQuery">GstQuery</a> *query,
                                                         <a href="gstreamer-GstFormat.html#GstFormat">GstFormat</a> format,
                                                         gint64 duration);
void                <a href="gstreamer-GstQuery.html#gst-query-parse-duration">gst_query_parse_duration</a>            (<a href="gstreamer-GstQuery.html#GstQuery">GstQuery</a> *query,
                                                         <a href="gstreamer-GstFormat.html#GstFormat">GstFormat</a> *format,
                                                         gint64 *duration);
<a href="gstreamer-GstQuery.html#GstQuery">GstQuery</a>*           <a href="gstreamer-GstQuery.html#gst-query-new-latency">gst_query_new_latency</a>               (void);
void                <a href="gstreamer-GstQuery.html#gst-query-parse-latency">gst_query_parse_latency</a>             (<a href="gstreamer-GstQuery.html#GstQuery">GstQuery</a> *query,
                                                         gboolean *live,
                                                         <a href="GstClock.html#GstClockTime">GstClockTime</a> *min_latency,
                                                         <a href="GstClock.html#GstClockTime">GstClockTime</a> *max_latency);
void                <a href="gstreamer-GstQuery.html#gst-query-set-latency">gst_query_set_latency</a>               (<a href="gstreamer-GstQuery.html#GstQuery">GstQuery</a> *query,
                                                         gboolean live,
                                                         <a href="GstClock.html#GstClockTime">GstClockTime</a> min_latency,
                                                         <a href="GstClock.html#GstClockTime">GstClockTime</a> max_latency);
<a href="gstreamer-GstQuery.html#GstQuery">GstQuery</a>*           <a href="gstreamer-GstQuery.html#gst-query-new-seeking">gst_query_new_seeking</a>               (<a href="gstreamer-GstFormat.html#GstFormat">GstFormat</a> format);
void                <a href="gstreamer-GstQuery.html#gst-query-set-seeking">gst_query_set_seeking</a>               (<a href="gstreamer-GstQuery.html#GstQuery">GstQuery</a> *query,
                                                         <a href="gstreamer-GstFormat.html#GstFormat">GstFormat</a> format,
                                                         gboolean seekable,
                                                         gint64 segment_start,
                                                         gint64 segment_end);
void                <a href="gstreamer-GstQuery.html#gst-query-parse-seeking">gst_query_parse_seeking</a>             (<a href="gstreamer-GstQuery.html#GstQuery">GstQuery</a> *query,
                                                         <a href="gstreamer-GstFormat.html#GstFormat">GstFormat</a> *format,
                                                         gboolean *seekable,
                                                         gint64 *segment_start,
                                                         gint64 *segment_end);
<a href="gstreamer-GstQuery.html#GstQuery">GstQuery</a>*           <a href="gstreamer-GstQuery.html#gst-query-new-formats">gst_query_new_formats</a>               (void);
void                <a href="gstreamer-GstQuery.html#gst-query-set-formats">gst_query_set_formats</a>               (<a href="gstreamer-GstQuery.html#GstQuery">GstQuery</a> *query,
                                                         gint n_formats,
                                                         ...);
void                <a href="gstreamer-GstQuery.html#gst-query-set-formatsv">gst_query_set_formatsv</a>              (<a href="gstreamer-GstQuery.html#GstQuery">GstQuery</a> *query,
                                                         gint n_formats,
                                                         <a href="gstreamer-GstFormat.html#GstFormat">GstFormat</a> *formats);
void                <a href="gstreamer-GstQuery.html#gst-query-parse-formats-length">gst_query_parse_formats_length</a>      (<a href="gstreamer-GstQuery.html#GstQuery">GstQuery</a> *query,
                                                         guint *n_formats);
void                <a href="gstreamer-GstQuery.html#gst-query-parse-formats-nth">gst_query_parse_formats_nth</a>         (<a href="gstreamer-GstQuery.html#GstQuery">GstQuery</a> *query,
                                                         guint nth,
                                                         <a href="gstreamer-GstFormat.html#GstFormat">GstFormat</a> *format);
<a href="gstreamer-GstQuery.html#GstQuery">GstQuery</a>*           <a href="gstreamer-GstQuery.html#gst-query-new-segment">gst_query_new_segment</a>               (<a href="gstreamer-GstFormat.html#GstFormat">GstFormat</a> format);
void                <a href="gstreamer-GstQuery.html#gst-query-set-segment">gst_query_set_segment</a>               (<a href="gstreamer-GstQuery.html#GstQuery">GstQuery</a> *query,
                                                         gdouble rate,
                                                         <a href="gstreamer-GstFormat.html#GstFormat">GstFormat</a> format,
                                                         gint64 start_value,
                                                         gint64 stop_value);
void                <a href="gstreamer-GstQuery.html#gst-query-parse-segment">gst_query_parse_segment</a>             (<a href="gstreamer-GstQuery.html#GstQuery">GstQuery</a> *query,
                                                         gdouble *rate,
                                                         <a href="gstreamer-GstFormat.html#GstFormat">GstFormat</a> *format,
                                                         gint64 *start_value,
                                                         gint64 *stop_value);


</pre>
</div>
<div class="refsect1" lang="en">
<a name="id2791982"></a><h2>Description</h2>
<p>
GstQuery functions are used to register a new query types to the gstreamer
core.
Query types can be used to perform queries on pads and elements.
</p>
<p>
Queries can be created using the <code class="function">gst_query_new_xxx()</code> functions.  
Query values can be set using <code class="function">gst_query_set_xxx()</code>, and parsed using 
<code class="function">gst_query_parse_xxx()</code> helpers.
</p>
<p>
The following example shows how to query the duration of a pipeline:
</p>
<p>
</p>
<div class="example">
<a name="id2792046"></a><p class="title"><b>Example&#160;13.&#160;Query duration on a pipeline</b></p>
<div class="example-contents"><pre class="programlisting">
 GstQuery *query;
 gboolean res;
 query = gst_query_new_duration (GST_FORMAT_TIME);
 res = gst_element_query (pipeline, query);
 if (res) {
   gint64 duration;
   gst_query_parse_duration (query, NULL, &amp;duration);
   g_print ("duration = %"GST_TIME_FORMAT, GST_TIME_ARGS (duration));
 }
 else {
   g_print ("duration query failed...");
 }
 gst_query_unref (query);
 </pre></div>
</div>
<p><br class="example-break">
</p>
<p>
Last reviewed on 2006-02-14 (0.10.4)</p>
<p>

</p>
</div>
<div class="refsect1" lang="en">
<a name="id2792074"></a><h2>Details</h2>
<div class="refsect2" lang="en">
<a name="id2792084"></a><h3>
<a name="GstQuery"></a>GstQuery</h3>
<a class="indexterm" name="id2792097"></a><pre class="programlisting">typedef struct {
  GstMiniObject mini_object;

  GstQueryType type;

  GstStructure *structure;
} GstQuery;
</pre>
<p>
The <a href="gstreamer-GstQuery.html#GstQuery"><span class="type">GstQuery</span></a> structure.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><a href="gstreamer-GstMiniObject.html#GstMiniObject">GstMiniObject</a>&#160;<em class="structfield"><code>mini_object</code></em>;</span></td>
<td> The parent <a href="gstreamer-GstMiniObject.html#GstMiniObject"><span class="type">GstMiniObject</span></a> type
</td>
</tr>
<tr>
<td><span class="term"><a href="gstreamer-GstQuery.html#GstQueryType">GstQueryType</a>&#160;<em class="structfield"><code>type</code></em>;</span></td>
<td> the <a href="gstreamer-GstQuery.html#GstQueryType"><span class="type">GstQueryType</span></a>
</td>
</tr>
<tr>
<td><span class="term"><a href="gstreamer-GstStructure.html#GstStructure">GstStructure</a>&#160;*<em class="structfield"><code>structure</code></em>;</span></td>
<td> the <a href="gstreamer-GstStructure.html#GstStructure"><span class="type">GstStructure</span></a> containing the query details.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2792217"></a><h3>
<a name="GstQueryType"></a>enum GstQueryType</h3>
<a class="indexterm" name="id2792230"></a><pre class="programlisting">typedef enum {
  GST_QUERY_NONE = 0,
  GST_QUERY_POSITION,
  GST_QUERY_DURATION,
  GST_QUERY_LATENCY,
  GST_QUERY_JITTER, 	/* not in draft-query, necessary? */
  GST_QUERY_RATE,
  GST_QUERY_SEEKING,
  GST_QUERY_SEGMENT,
  GST_QUERY_CONVERT,
  GST_QUERY_FORMATS
} GstQueryType;
</pre>
<p>
Standard predefined Query types</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><a name="GST-QUERY-NONE:CAPS"></a><code class="literal">GST_QUERY_NONE</code></span></td>
<td> invalid query type
</td>
</tr>
<tr>
<td><span class="term"><a name="GST-QUERY-POSITION:CAPS"></a><code class="literal">GST_QUERY_POSITION</code></span></td>
<td> current position in stream
</td>
</tr>
<tr>
<td><span class="term"><a name="GST-QUERY-DURATION:CAPS"></a><code class="literal">GST_QUERY_DURATION</code></span></td>
<td> total duration of the stream
</td>
</tr>
<tr>
<td><span class="term"><a name="GST-QUERY-LATENCY:CAPS"></a><code class="literal">GST_QUERY_LATENCY</code></span></td>
<td> latency of stream
</td>
</tr>
<tr>
<td><span class="term"><a name="GST-QUERY-JITTER:CAPS"></a><code class="literal">GST_QUERY_JITTER</code></span></td>
<td> current jitter of stream
</td>
</tr>
<tr>
<td><span class="term"><a name="GST-QUERY-RATE:CAPS"></a><code class="literal">GST_QUERY_RATE</code></span></td>
<td> current rate of the stream
</td>
</tr>
<tr>
<td><span class="term"><a name="GST-QUERY-SEEKING:CAPS"></a><code class="literal">GST_QUERY_SEEKING</code></span></td>
<td> seeking capabilities
</td>
</tr>
<tr>
<td><span class="term"><a name="GST-QUERY-SEGMENT:CAPS"></a><code class="literal">GST_QUERY_SEGMENT</code></span></td>
<td> segment start/stop positions
</td>
</tr>
<tr>
<td><span class="term"><a name="GST-QUERY-CONVERT:CAPS"></a><code class="literal">GST_QUERY_CONVERT</code></span></td>
<td> convert values between formats
</td>
</tr>
<tr>
<td><span class="term"><a name="GST-QUERY-FORMATS:CAPS"></a><code class="literal">GST_QUERY_FORMATS</code></span></td>
<td> query supported formats for convert
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2792485"></a><h3>
<a name="GST-QUERY-TYPE:CAPS"></a>GST_QUERY_TYPE()</h3>
<a class="indexterm" name="id2792497"></a><pre class="programlisting">#define GST_QUERY_TYPE(query)  (((GstQuery*)(query))-&gt;type)
</pre>
<p>
Get the <a href="gstreamer-GstQuery.html#GstQueryType"><span class="type">GstQueryType</span></a> of the query.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><span class="term"><em class="parameter"><code>query</code></em>&#160;:</span></td>
<td> the query to query
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2792544"></a><h3>
<a name="GST-QUERY-TYPE-NAME:CAPS"></a>GST_QUERY_TYPE_NAME()</h3>
<a class="indexterm" name="id2792560"></a><pre class="programlisting">#define GST_QUERY_TYPE_NAME(query) (gst_query_type_get_name(GST_QUERY_TYPE(query)))
</pre>
<p>
Get a constant string representation of the <a href="gstreamer-GstQuery.html#GstQueryType"><span class="type">GstQueryType</span></a> of the query.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><span class="term"><em class="parameter"><code>query</code></em>&#160;:</span></td>
<td> the query to query
</td>
</tr></tbody>
</table></div>
<p class="since">Since  0.10.4
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2792614"></a><h3>
<a name="GstQueryTypeDefinition"></a>GstQueryTypeDefinition</h3>
<a class="indexterm" name="id2792628"></a><pre class="programlisting">typedef struct {
  GstQueryType   value;
  gchar  	*nick;
  gchar  	*description;
  GQuark         quark;
} GstQueryTypeDefinition;
</pre>
<p>
A Query Type definition</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><a href="gstreamer-GstQuery.html#GstQueryType">GstQueryType</a>&#160;<em class="structfield"><code>value</code></em>;</span></td>
<td> the unique id of the Query type
</td>
</tr>
<tr>
<td><span class="term">gchar&#160;*<em class="structfield"><code>nick</code></em>;</span></td>
<td> a short nick
</td>
</tr>
<tr>
<td><span class="term">gchar&#160;*<em class="structfield"><code>description</code></em>;</span></td>
<td> a longer description of the query type
</td>
</tr>
<tr>
<td><span class="term">GQuark&#160;<em class="structfield"><code>quark</code></em>;</span></td>
<td> the quark for the nick
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2792736"></a><h3>
<a name="gst-query-type-get-name"></a>gst_query_type_get_name ()</h3>
<a class="indexterm" name="id2792749"></a><pre class="programlisting">const gchar*        gst_query_type_get_name             (<a href="gstreamer-GstQuery.html#GstQueryType">GstQueryType</a> query);</pre>
<p>
Get a printable name for the given query type. Do not modify or free.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>query</code></em>&#160;:</span></td>
<td> the query type
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> a reference to the static name of the query.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2792813"></a><h3>
<a name="gst-query-type-to-quark"></a>gst_query_type_to_quark ()</h3>
<a class="indexterm" name="id2792826"></a><pre class="programlisting">GQuark              gst_query_type_to_quark             (<a href="gstreamer-GstQuery.html#GstQueryType">GstQueryType</a> query);</pre>
<p>
Get the unique quark for the given query type.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>query</code></em>&#160;:</span></td>
<td> the query type
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> the quark associated with the query type
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2792888"></a><h3>
<a name="gst-query-type-register"></a>gst_query_type_register ()</h3>
<a class="indexterm" name="id2792902"></a><pre class="programlisting"><a href="gstreamer-GstQuery.html#GstQueryType">GstQueryType</a>        gst_query_type_register             (const gchar *nick,
                                                         const gchar *description);</pre>
<p>
Create a new GstQueryType based on the nick or return an
already registered query with that nick</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>nick</code></em>&#160;:</span></td>
<td> The nick of the new query
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>description</code></em>&#160;:</span></td>
<td> The description of the new query
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> A new GstQueryType or an already registered query
with the same nick.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2792987"></a><h3>
<a name="gst-query-type-get-by-nick"></a>gst_query_type_get_by_nick ()</h3>
<a class="indexterm" name="id2793001"></a><pre class="programlisting"><a href="gstreamer-GstQuery.html#GstQueryType">GstQueryType</a>        gst_query_type_get_by_nick          (const gchar *nick);</pre>
<p>
Get the query type registered with <em class="parameter"><code>nick</code></em>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>nick</code></em>&#160;:</span></td>
<td> The nick of the query
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> The query registered with <em class="parameter"><code>nick</code></em> or <a href="gstreamer-GstQuery.html#GST-QUERY-NONE:CAPS"><span class="type">GST_QUERY_NONE</span></a>
if the query was not registered.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2793084"></a><h3>
<a name="gst-query-types-contains"></a>gst_query_types_contains ()</h3>
<a class="indexterm" name="id2793097"></a><pre class="programlisting">gboolean            gst_query_types_contains            (const <a href="gstreamer-GstQuery.html#GstQueryType">GstQueryType</a> *types,
                                                         <a href="gstreamer-GstQuery.html#GstQueryType">GstQueryType</a> type);</pre>
<p>
See if the given <a href="gstreamer-GstQuery.html#GstQueryType"><span class="type">GstQueryType</span></a> is inside the <em class="parameter"><code>types</code></em> query types array.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>types</code></em>&#160;:</span></td>
<td> The query array to search
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>type</code></em>&#160;:</span></td>
<td> the <a href="gstreamer-GstQuery.html#GstQueryType"><span class="type">GstQueryType</span></a> to find
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> TRUE if the type is found inside the array
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2793204"></a><h3>
<a name="gst-query-type-get-details"></a>gst_query_type_get_details ()</h3>
<a class="indexterm" name="id2793218"></a><pre class="programlisting">const <a href="gstreamer-GstQuery.html#GstQueryTypeDefinition">GstQueryTypeDefinition</a>* gst_query_type_get_details
                                                        (<a href="gstreamer-GstQuery.html#GstQueryType">GstQueryType</a> type);</pre>
<p>
Get details about the given <a href="gstreamer-GstQuery.html#GstQueryType"><span class="type">GstQueryType</span></a>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>type</code></em>&#160;:</span></td>
<td> a <a href="gstreamer-GstQuery.html#GstQueryType"><span class="type">GstQueryType</span></a>
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> The <a href="gstreamer-GstQuery.html#GstQueryTypeDefinition"><span class="type">GstQueryTypeDefinition</span></a> for <em class="parameter"><code>type</code></em> or NULL on failure.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2793313"></a><h3>
<a name="gst-query-type-iterate-definitions"></a>gst_query_type_iterate_definitions ()</h3>
<a class="indexterm" name="id2793327"></a><pre class="programlisting"><a href="gstreamer-GstIterator.html#GstIterator">GstIterator</a>*        gst_query_type_iterate_definitions  (void);</pre>
<p>
Get a <a href="gstreamer-GstIterator.html#GstIterator"><span class="type">GstIterator</span></a> of all the registered query types. The definitions 
iterated over are read only.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> A <a href="gstreamer-GstIterator.html#GstIterator"><span class="type">GstIterator</span></a> of <a href="gstreamer-GstQuery.html#GstQueryTypeDefinition"><span class="type">GstQueryTypeDefinition</span></a>.
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2793392"></a><h3>
<a name="gst-query-ref"></a>gst_query_ref()</h3>
<a class="indexterm" name="id2793405"></a><pre class="programlisting">#define         gst_query_ref(q)		GST_QUERY (gst_mini_object_ref (GST_MINI_OBJECT (q)))
</pre>
<p>
Increases the refcount of the given query by one.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><span class="term"><em class="parameter"><code>q</code></em>&#160;:</span></td>
<td> a <a href="gstreamer-GstQuery.html#GstQuery"><span class="type">GstQuery</span></a> to increase the refcount of.
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2793451"></a><h3>
<a name="gst-query-unref"></a>gst_query_unref()</h3>
<a class="indexterm" name="id2793464"></a><pre class="programlisting">#define         gst_query_unref(q)		gst_mini_object_unref (GST_MINI_OBJECT (q))
</pre>
<p>
Decreases the refcount of the query. If the refcount reaches 0, the query
will be freed.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><span class="term"><em class="parameter"><code>q</code></em>&#160;:</span></td>
<td> a <a href="gstreamer-GstQuery.html#GstQuery"><span class="type">GstQuery</span></a> to decrease the refcount of.
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2793511"></a><h3>
<a name="gst-query-copy"></a>gst_query_copy()</h3>
<a class="indexterm" name="id2793524"></a><pre class="programlisting">#define         gst_query_copy(q)		GST_QUERY (gst_mini_object_copy (GST_MINI_OBJECT (q)))
</pre>
<p>
Copies the given query using the copy function of the parent <span class="type">GstData</span>
structure.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><span class="term"><em class="parameter"><code>q</code></em>&#160;:</span></td>
<td> a <a href="gstreamer-GstQuery.html#GstQuery"><span class="type">GstQuery</span></a> to copy.
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2793579"></a><h3>
<a name="gst-query-make-writable"></a>gst_query_make_writable()</h3>
<a class="indexterm" name="id2793593"></a><pre class="programlisting">#define         gst_query_make_writable(q)	GST_QUERY (gst_mini_object_make_writable (GST_MINI_OBJECT (q)))
</pre>
<p>
Makes a writable query from the given query.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><span class="term"><em class="parameter"><code>q</code></em>&#160;:</span></td>
<td> a <a href="gstreamer-GstQuery.html#GstQuery"><span class="type">GstQuery</span></a> to make writable
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2793639"></a><h3>
<a name="gst-query-new-application"></a>gst_query_new_application ()</h3>
<a class="indexterm" name="id2793653"></a><pre class="programlisting"><a href="gstreamer-GstQuery.html#GstQuery">GstQuery</a>*           gst_query_new_application           (<a href="gstreamer-GstQuery.html#GstQueryType">GstQueryType</a> type,
                                                         <a href="gstreamer-GstStructure.html#GstStructure">GstStructure</a> *structure);</pre>
<p>
Constructs a new custom application query object. Use <a href="gstreamer-GstQuery.html#gst-query-unref"><code class="function">gst_query_unref()</code></a>
when done with it.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>type</code></em>&#160;:</span></td>
<td> the query type
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>structure</code></em>&#160;:</span></td>
<td> a structure for the query
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> a <a href="gstreamer-GstQuery.html#GstQuery"><span class="type">GstQuery</span></a>
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2793755"></a><h3>
<a name="gst-query-get-structure"></a>gst_query_get_structure ()</h3>
<a class="indexterm" name="id2793768"></a><pre class="programlisting"><a href="gstreamer-GstStructure.html#GstStructure">GstStructure</a>*       gst_query_get_structure             (<a href="gstreamer-GstQuery.html#GstQuery">GstQuery</a> *query);</pre>
<p>
Get the structure of a query.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>query</code></em>&#160;:</span></td>
<td> a <a href="gstreamer-GstQuery.html#GstQuery"><span class="type">GstQuery</span></a>
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> The <a href="gstreamer-GstStructure.html#GstStructure"><span class="type">GstStructure</span></a> of the query. The structure is still owned
by the query and will therefore be freed when the query is unreffed.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2793847"></a><h3>
<a name="gst-query-new-convert"></a>gst_query_new_convert ()</h3>
<a class="indexterm" name="id2793860"></a><pre class="programlisting"><a href="gstreamer-GstQuery.html#GstQuery">GstQuery</a>*           gst_query_new_convert               (<a href="gstreamer-GstFormat.html#GstFormat">GstFormat</a> src_format,
                                                         gint64 value,
                                                         <a href="gstreamer-GstFormat.html#GstFormat">GstFormat</a> dest_format);</pre>
<p>
Constructs a new convert query object. Use <a href="gstreamer-GstQuery.html#gst-query-unref"><code class="function">gst_query_unref()</code></a>
when done with it. A convert query is used to ask for a conversion between
one format and another.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>src_format</code></em>&#160;:</span></td>
<td> the source <a href="gstreamer-GstFormat.html#GstFormat"><span class="type">GstFormat</span></a> for the new query
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>value</code></em>&#160;:</span></td>
<td> the value to convert
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>dest_format</code></em>&#160;:</span></td>
<td> the target <a href="gstreamer-GstFormat.html#GstFormat"><span class="type">GstFormat</span></a>
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> A <a href="gstreamer-GstQuery.html#GstQuery"><span class="type">GstQuery</span></a>
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2794001"></a><h3>
<a name="gst-query-set-convert"></a>gst_query_set_convert ()</h3>
<a class="indexterm" name="id2794014"></a><pre class="programlisting">void                gst_query_set_convert               (<a href="gstreamer-GstQuery.html#GstQuery">GstQuery</a> *query,
                                                         <a href="gstreamer-GstFormat.html#GstFormat">GstFormat</a> src_format,
                                                         gint64 src_value,
                                                         <a href="gstreamer-GstFormat.html#GstFormat">GstFormat</a> dest_format,
                                                         gint64 dest_value);</pre>
<p>
Answer a convert query by setting the requested values.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>query</code></em>&#160;:</span></td>
<td> a <a href="gstreamer-GstQuery.html#GstQuery"><span class="type">GstQuery</span></a>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>src_format</code></em>&#160;:</span></td>
<td> the source <a href="gstreamer-GstFormat.html#GstFormat"><span class="type">GstFormat</span></a>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>src_value</code></em>&#160;:</span></td>
<td> the source value
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>dest_format</code></em>&#160;:</span></td>
<td> the destination <a href="gstreamer-GstFormat.html#GstFormat"><span class="type">GstFormat</span></a>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>dest_value</code></em>&#160;:</span></td>
<td> the destination value
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2794175"></a><h3>
<a name="gst-query-parse-convert"></a>gst_query_parse_convert ()</h3>
<a class="indexterm" name="id2794189"></a><pre class="programlisting">void                gst_query_parse_convert             (<a href="gstreamer-GstQuery.html#GstQuery">GstQuery</a> *query,
                                                         <a href="gstreamer-GstFormat.html#GstFormat">GstFormat</a> *src_format,
                                                         gint64 *src_value,
                                                         <a href="gstreamer-GstFormat.html#GstFormat">GstFormat</a> *dest_format,
                                                         gint64 *dest_value);</pre>
<p>
Parse a convert query answer. Any of <em class="parameter"><code>src_format</code></em>, <em class="parameter"><code>src_value</code></em>, <em class="parameter"><code>dest_format</code></em>,
and <em class="parameter"><code>dest_value</code></em> may be NULL, in which case that value is omitted.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>query</code></em>&#160;:</span></td>
<td> a <a href="gstreamer-GstQuery.html#GstQuery"><span class="type">GstQuery</span></a>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>src_format</code></em>&#160;:</span></td>
<td> the storage for the <a href="gstreamer-GstFormat.html#GstFormat"><span class="type">GstFormat</span></a> of the source value, or NULL
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>src_value</code></em>&#160;:</span></td>
<td> the storage for the source value, or NULL
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>dest_format</code></em>&#160;:</span></td>
<td> the storage for the <a href="gstreamer-GstFormat.html#GstFormat"><span class="type">GstFormat</span></a> of the destination value, or NULL
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>dest_value</code></em>&#160;:</span></td>
<td> the storage for the destination value, or NULL
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2794376"></a><h3>
<a name="gst-query-new-position"></a>gst_query_new_position ()</h3>
<a class="indexterm" name="id2794390"></a><pre class="programlisting"><a href="gstreamer-GstQuery.html#GstQuery">GstQuery</a>*           gst_query_new_position              (<a href="gstreamer-GstFormat.html#GstFormat">GstFormat</a> format);</pre>
<p>
Constructs a new query stream position query object. Use <a href="gstreamer-GstQuery.html#gst-query-unref"><code class="function">gst_query_unref()</code></a>
when done with it. A position query is used to query the current position
of playback in the streams, in some format.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>format</code></em>&#160;:</span></td>
<td> the default <a href="gstreamer-GstFormat.html#GstFormat"><span class="type">GstFormat</span></a> for the new query
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> A <a href="gstreamer-GstQuery.html#GstQuery"><span class="type">GstQuery</span></a>
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2794479"></a><h3>
<a name="gst-query-set-position"></a>gst_query_set_position ()</h3>
<a class="indexterm" name="id2794492"></a><pre class="programlisting">void                gst_query_set_position              (<a href="gstreamer-GstQuery.html#GstQuery">GstQuery</a> *query,
                                                         <a href="gstreamer-GstFormat.html#GstFormat">GstFormat</a> format,
                                                         gint64 cur);</pre>
<p>
Answer a position query by setting the requested value in the given format.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>query</code></em>&#160;:</span></td>
<td> a <a href="gstreamer-GstQuery.html#GstQuery"><span class="type">GstQuery</span></a> with query type GST_QUERY_POSITION
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>format</code></em>&#160;:</span></td>
<td> the requested <a href="gstreamer-GstFormat.html#GstFormat"><span class="type">GstFormat</span></a>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>cur</code></em>&#160;:</span></td>
<td> the position to set
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2794603"></a><h3>
<a name="gst-query-parse-position"></a>gst_query_parse_position ()</h3>
<a class="indexterm" name="id2794616"></a><pre class="programlisting">void                gst_query_parse_position            (<a href="gstreamer-GstQuery.html#GstQuery">GstQuery</a> *query,
                                                         <a href="gstreamer-GstFormat.html#GstFormat">GstFormat</a> *format,
                                                         gint64 *cur);</pre>
<p>
Parse a position query, writing the format into <em class="parameter"><code>format</code></em>, and the position
into <em class="parameter"><code>cur</code></em>, if the respective parameters are non-NULL.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>query</code></em>&#160;:</span></td>
<td> a <a href="gstreamer-GstQuery.html#GstQuery"><span class="type">GstQuery</span></a>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>format</code></em>&#160;:</span></td>
<td> the storage for the <a href="gstreamer-GstFormat.html#GstFormat"><span class="type">GstFormat</span></a> of the position values (may be NULL)
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>cur</code></em>&#160;:</span></td>
<td> the storage for the current position (may be NULL)
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2794739"></a><h3>
<a name="gst-query-new-duration"></a>gst_query_new_duration ()</h3>
<a class="indexterm" name="id2794753"></a><pre class="programlisting"><a href="gstreamer-GstQuery.html#GstQuery">GstQuery</a>*           gst_query_new_duration              (<a href="gstreamer-GstFormat.html#GstFormat">GstFormat</a> format);</pre>
<p>
Constructs a new stream duration query object to query in the given format. 
Use <a href="gstreamer-GstQuery.html#gst-query-unref"><code class="function">gst_query_unref()</code></a> when done with it. A duration query will give the
total length of the stream.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>format</code></em>&#160;:</span></td>
<td> the <a href="gstreamer-GstFormat.html#GstFormat"><span class="type">GstFormat</span></a> for this duration query
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> A <a href="gstreamer-GstQuery.html#GstQuery"><span class="type">GstQuery</span></a>
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2794842"></a><h3>
<a name="gst-query-set-duration"></a>gst_query_set_duration ()</h3>
<a class="indexterm" name="id2794855"></a><pre class="programlisting">void                gst_query_set_duration              (<a href="gstreamer-GstQuery.html#GstQuery">GstQuery</a> *query,
                                                         <a href="gstreamer-GstFormat.html#GstFormat">GstFormat</a> format,
                                                         gint64 duration);</pre>
<p>
Answer a duration query by setting the requested value in the given format.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>query</code></em>&#160;:</span></td>
<td> a <a href="gstreamer-GstQuery.html#GstQuery"><span class="type">GstQuery</span></a>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>format</code></em>&#160;:</span></td>
<td> the <a href="gstreamer-GstFormat.html#GstFormat"><span class="type">GstFormat</span></a> for the duration
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>duration</code></em>&#160;:</span></td>
<td> the duration of the stream
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2794966"></a><h3>
<a name="gst-query-parse-duration"></a>gst_query_parse_duration ()</h3>
<a class="indexterm" name="id2794979"></a><pre class="programlisting">void                gst_query_parse_duration            (<a href="gstreamer-GstQuery.html#GstQuery">GstQuery</a> *query,
                                                         <a href="gstreamer-GstFormat.html#GstFormat">GstFormat</a> *format,
                                                         gint64 *duration);</pre>
<p>
Parse a duration query answer. Write the format of the duration into <em class="parameter"><code>format</code></em>,
and the value into <em class="parameter"><code>duration</code></em>, if the respective variables are non-NULL.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>query</code></em>&#160;:</span></td>
<td> a <a href="gstreamer-GstQuery.html#GstQuery"><span class="type">GstQuery</span></a>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>format</code></em>&#160;:</span></td>
<td> the storage for the <a href="gstreamer-GstFormat.html#GstFormat"><span class="type">GstFormat</span></a> of the duration value, or NULL.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>duration</code></em>&#160;:</span></td>
<td> the storage for the total duration, or NULL.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2795103"></a><h3>
<a name="gst-query-new-latency"></a>gst_query_new_latency ()</h3>
<a class="indexterm" name="id2795119"></a><pre class="programlisting"><a href="gstreamer-GstQuery.html#GstQuery">GstQuery</a>*           gst_query_new_latency               (void);</pre>
<p>
Constructs a new latency query object. 
Use <a href="gstreamer-GstQuery.html#gst-query-unref"><code class="function">gst_query_unref()</code></a> when done with it. A latency query is usually performed
by sinks to compensate for additional latency introduced by elements in the
pipeline.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> A <a href="gstreamer-GstQuery.html#GstQuery"><span class="type">GstQuery</span></a>

</td>
</tr></tbody>
</table></div>
<p class="since">Since  0.10.12
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2795186"></a><h3>
<a name="gst-query-parse-latency"></a>gst_query_parse_latency ()</h3>
<a class="indexterm" name="id2795202"></a><pre class="programlisting">void                gst_query_parse_latency             (<a href="gstreamer-GstQuery.html#GstQuery">GstQuery</a> *query,
                                                         gboolean *live,
                                                         <a href="GstClock.html#GstClockTime">GstClockTime</a> *min_latency,
                                                         <a href="GstClock.html#GstClockTime">GstClockTime</a> *max_latency);</pre>
<p>
Parse a latency query answer.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>query</code></em>&#160;:</span></td>
<td> a <a href="gstreamer-GstQuery.html#GstQuery"><span class="type">GstQuery</span></a>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>live</code></em>&#160;:</span></td>
<td> storage for live or NULL 
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>min_latency</code></em>&#160;:</span></td>
<td> the storage for the min latency or NULL
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>max_latency</code></em>&#160;:</span></td>
<td> the storage for the max latency or NULL
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since  0.10.12
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2795334"></a><h3>
<a name="gst-query-set-latency"></a>gst_query_set_latency ()</h3>
<a class="indexterm" name="id2512566"></a><pre class="programlisting">void                gst_query_set_latency               (<a href="gstreamer-GstQuery.html#GstQuery">GstQuery</a> *query,
                                                         gboolean live,
                                                         <a href="GstClock.html#GstClockTime">GstClockTime</a> min_latency,
                                                         <a href="GstClock.html#GstClockTime">GstClockTime</a> max_latency);</pre>
<p>
Answer a latency query by setting the requested values in the given format.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>query</code></em>&#160;:</span></td>
<td> a <a href="gstreamer-GstQuery.html#GstQuery"><span class="type">GstQuery</span></a>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>live</code></em>&#160;:</span></td>
<td> if there is a live element upstream
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>min_latency</code></em>&#160;:</span></td>
<td> the minimal latency of the live element
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>max_latency</code></em>&#160;:</span></td>
<td> the maximal latency of the live element
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since  0.10.12
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2796200"></a><h3>
<a name="gst-query-new-seeking"></a>gst_query_new_seeking ()</h3>
<a class="indexterm" name="id2796210"></a><pre class="programlisting"><a href="gstreamer-GstQuery.html#GstQuery">GstQuery</a>*           gst_query_new_seeking               (<a href="gstreamer-GstFormat.html#GstFormat">GstFormat</a> format);</pre>
<p>
Constructs a new query object for querying seeking properties of
the stream.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>format</code></em>&#160;:</span></td>
<td> the default <a href="gstreamer-GstFormat.html#GstFormat"><span class="type">GstFormat</span></a> for the new query
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> A <a href="gstreamer-GstQuery.html#GstQuery"><span class="type">GstQuery</span></a>
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2796287"></a><h3>
<a name="gst-query-set-seeking"></a>gst_query_set_seeking ()</h3>
<a class="indexterm" name="id2796298"></a><pre class="programlisting">void                gst_query_set_seeking               (<a href="gstreamer-GstQuery.html#GstQuery">GstQuery</a> *query,
                                                         <a href="gstreamer-GstFormat.html#GstFormat">GstFormat</a> format,
                                                         gboolean seekable,
                                                         gint64 segment_start,
                                                         gint64 segment_end);</pre>
<p>
Set the seeking query result fields in <em class="parameter"><code>query</code></em>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>query</code></em>&#160;:</span></td>
<td> a <a href="gstreamer-GstQuery.html#GstQuery"><span class="type">GstQuery</span></a>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>format</code></em>&#160;:</span></td>
<td> the format to set for the <em class="parameter"><code>segment_start</code></em> and <em class="parameter"><code>segment_end</code></em> values
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>seekable</code></em>&#160;:</span></td>
<td> the seekable flag to set
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>segment_start</code></em>&#160;:</span></td>
<td> the segment_start to set
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>segment_end</code></em>&#160;:</span></td>
<td> the segment_end to set
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2796459"></a><h3>
<a name="gst-query-parse-seeking"></a>gst_query_parse_seeking ()</h3>
<a class="indexterm" name="id2796470"></a><pre class="programlisting">void                gst_query_parse_seeking             (<a href="gstreamer-GstQuery.html#GstQuery">GstQuery</a> *query,
                                                         <a href="gstreamer-GstFormat.html#GstFormat">GstFormat</a> *format,
                                                         gboolean *seekable,
                                                         gint64 *segment_start,
                                                         gint64 *segment_end);</pre>
<p>
Parse a seeking query, writing the format into <em class="parameter"><code>format</code></em>, and 
other results into the passed parameters, if the respective parameters
are non-NULL</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>query</code></em>&#160;:</span></td>
<td> a GST_QUERY_SEEKING type query <a href="gstreamer-GstQuery.html#GstQuery"><span class="type">GstQuery</span></a>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>format</code></em>&#160;:</span></td>
<td> the format to set for the <em class="parameter"><code>segment_start</code></em> and <em class="parameter"><code>segment_end</code></em> values
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>seekable</code></em>&#160;:</span></td>
<td> the seekable flag to set
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>segment_start</code></em>&#160;:</span></td>
<td> the segment_start to set
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>segment_end</code></em>&#160;:</span></td>
<td> the segment_end to set
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2796633"></a><h3>
<a name="gst-query-new-formats"></a>gst_query_new_formats ()</h3>
<a class="indexterm" name="id2796646"></a><pre class="programlisting"><a href="gstreamer-GstQuery.html#GstQuery">GstQuery</a>*           gst_query_new_formats               (void);</pre>
<p>
Constructs a new query object for querying formats of
the stream.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> A <a href="gstreamer-GstQuery.html#GstQuery"><span class="type">GstQuery</span></a>

</td>
</tr></tbody>
</table></div>
<p class="since">Since  0.10.4
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2796701"></a><h3>
<a name="gst-query-set-formats"></a>gst_query_set_formats ()</h3>
<a class="indexterm" name="id2796712"></a><pre class="programlisting">void                gst_query_set_formats               (<a href="gstreamer-GstQuery.html#GstQuery">GstQuery</a> *query,
                                                         gint n_formats,
                                                         ...);</pre>
<p>
Set the formats query result fields in <em class="parameter"><code>query</code></em>. The number of formats passed
must be equal to <em class="parameter"><code>n_formats</code></em>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>query</code></em>&#160;:</span></td>
<td> a <a href="gstreamer-GstQuery.html#GstQuery"><span class="type">GstQuery</span></a>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>n_formats</code></em>&#160;:</span></td>
<td> the number of formats to set.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>...</code></em>&#160;:</span></td>
<td> A number of <em class="parameter"><code>GstFormats</code></em> equal to <em class="parameter"><code>n_formats</code></em>.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2796830"></a><h3>
<a name="gst-query-set-formatsv"></a>gst_query_set_formatsv ()</h3>
<a class="indexterm" name="id2796843"></a><pre class="programlisting">void                gst_query_set_formatsv              (<a href="gstreamer-GstQuery.html#GstQuery">GstQuery</a> *query,
                                                         gint n_formats,
                                                         <a href="gstreamer-GstFormat.html#GstFormat">GstFormat</a> *formats);</pre>
<p>
Set the formats query result fields in <em class="parameter"><code>query</code></em>. The number of formats passed
in the <em class="parameter"><code>formats</code></em> array must be equal to <em class="parameter"><code>n_formats</code></em>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>query</code></em>&#160;:</span></td>
<td> a <a href="gstreamer-GstQuery.html#GstQuery"><span class="type">GstQuery</span></a>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>n_formats</code></em>&#160;:</span></td>
<td> the number of formats to set.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>formats</code></em>&#160;:</span></td>
<td> An array containing <em class="parameter"><code>n_formats</code></em> <em class="parameter"><code>GstFormat</code></em> values.
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since  0.10.4
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2796981"></a><h3>
<a name="gst-query-parse-formats-length"></a>gst_query_parse_formats_length ()</h3>
<a class="indexterm" name="id2796996"></a><pre class="programlisting">void                gst_query_parse_formats_length      (<a href="gstreamer-GstQuery.html#GstQuery">GstQuery</a> *query,
                                                         guint *n_formats);</pre>
<p>
Parse the number of formats in the formats <em class="parameter"><code>query</code></em>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>query</code></em>&#160;:</span></td>
<td> a <a href="gstreamer-GstQuery.html#GstQuery"><span class="type">GstQuery</span></a>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>n_formats</code></em>&#160;:</span></td>
<td> the number of formats in this query.
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since  0.10.4
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2797089"></a><h3>
<a name="gst-query-parse-formats-nth"></a>gst_query_parse_formats_nth ()</h3>
<a class="indexterm" name="id2797103"></a><pre class="programlisting">void                gst_query_parse_formats_nth         (<a href="gstreamer-GstQuery.html#GstQuery">GstQuery</a> *query,
                                                         guint nth,
                                                         <a href="gstreamer-GstFormat.html#GstFormat">GstFormat</a> *format);</pre>
<p>
Parse the format query and retrieve the <em class="parameter"><code>nth</code></em> format from it into 
<em class="parameter"><code>format</code></em>. If the list contains less elements than <em class="parameter"><code>nth</code></em>, <em class="parameter"><code>format</code></em> will be
set to GST_FORMAT_UNDEFINED.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>query</code></em>&#160;:</span></td>
<td> a <a href="gstreamer-GstQuery.html#GstQuery"><span class="type">GstQuery</span></a>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>nth</code></em>&#160;:</span></td>
<td> the nth format to retrieve.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>format</code></em>&#160;:</span></td>
<td> a pointer to store the nth format
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since  0.10.4
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2797235"></a><h3>
<a name="gst-query-new-segment"></a>gst_query_new_segment ()</h3>
<a class="indexterm" name="id2797246"></a><pre class="programlisting"><a href="gstreamer-GstQuery.html#GstQuery">GstQuery</a>*           gst_query_new_segment               (<a href="gstreamer-GstFormat.html#GstFormat">GstFormat</a> format);</pre>
<p>
Constructs a new segment query object. Use <a href="gstreamer-GstQuery.html#gst-query-unref"><code class="function">gst_query_unref()</code></a>
when done with it. A segment query is used to discover information about the
currently configured segment for playback.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>format</code></em>&#160;:</span></td>
<td> the <a href="gstreamer-GstFormat.html#GstFormat"><span class="type">GstFormat</span></a> for the new query
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> a <a href="gstreamer-GstQuery.html#GstQuery"><span class="type">GstQuery</span></a>
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2797334"></a><h3>
<a name="gst-query-set-segment"></a>gst_query_set_segment ()</h3>
<a class="indexterm" name="id2797345"></a><pre class="programlisting">void                gst_query_set_segment               (<a href="gstreamer-GstQuery.html#GstQuery">GstQuery</a> *query,
                                                         gdouble rate,
                                                         <a href="gstreamer-GstFormat.html#GstFormat">GstFormat</a> format,
                                                         gint64 start_value,
                                                         gint64 stop_value);</pre>
<p>
Answer a segment query by setting the requested values. The normal
playback segment of a pipeline is 0 to duration at the default rate of
1.0. If a seek was performed on the pipeline to play a different
segment, this query will return the range specified in the last seek.
</p>
<p>
<em class="parameter"><code>start_value</code></em> and <em class="parameter"><code>stop_value</code></em> will respectively contain the configured 
playback range start and stop values expressed in <em class="parameter"><code>format</code></em>. 
The values are always between 0 and the duration of the media and 
<em class="parameter"><code>start_value</code></em> &lt;= <em class="parameter"><code>stop_value</code></em>. <em class="parameter"><code>rate</code></em> will contain the playback rate. For
negative rates, playback will actually happen from <em class="parameter"><code>stop_value</code></em> to
<em class="parameter"><code>start_value</code></em>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>query</code></em>&#160;:</span></td>
<td> a <a href="gstreamer-GstQuery.html#GstQuery"><span class="type">GstQuery</span></a>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>rate</code></em>&#160;:</span></td>
<td> the rate of the segment
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>format</code></em>&#160;:</span></td>
<td> the <a href="gstreamer-GstFormat.html#GstFormat"><span class="type">GstFormat</span></a> of the segment values (<em class="parameter"><code>start_value</code></em> and <em class="parameter"><code>stop_value</code></em>)
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>start_value</code></em>&#160;:</span></td>
<td> the start value
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>stop_value</code></em>&#160;:</span></td>
<td> the stop value
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2797567"></a><h3>
<a name="gst-query-parse-segment"></a>gst_query_parse_segment ()</h3>
<a class="indexterm" name="id2797577"></a><pre class="programlisting">void                gst_query_parse_segment             (<a href="gstreamer-GstQuery.html#GstQuery">GstQuery</a> *query,
                                                         gdouble *rate,
                                                         <a href="gstreamer-GstFormat.html#GstFormat">GstFormat</a> *format,
                                                         gint64 *start_value,
                                                         gint64 *stop_value);</pre>
<p>
Parse a segment query answer. Any of <em class="parameter"><code>rate</code></em>, <em class="parameter"><code>format</code></em>, <em class="parameter"><code>start_value</code></em>, and 
<em class="parameter"><code>stop_value</code></em> may be NULL, which will cause this value to be omitted.
</p>
<p>
See <a href="gstreamer-GstQuery.html#gst-query-set-segment"><code class="function">gst_query_set_segment()</code></a> for an explanation of the function arguments.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>query</code></em>&#160;:</span></td>
<td> a <a href="gstreamer-GstQuery.html#GstQuery"><span class="type">GstQuery</span></a>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>rate</code></em>&#160;:</span></td>
<td> the storage for the rate of the segment, or NULL
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>format</code></em>&#160;:</span></td>
<td> the storage for the <a href="gstreamer-GstFormat.html#GstFormat"><span class="type">GstFormat</span></a> of the values, or NULL
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>start_value</code></em>&#160;:</span></td>
<td> the storage for the start value, or NULL
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>stop_value</code></em>&#160;:</span></td>
<td> the storage for the stop value, or NULL
</td>
</tr>
</tbody>
</table></div>
</div>
</div>
<div class="refsect1" lang="en">
<a name="id2797749"></a><h2>See Also</h2>
<a href="GstPad.html" title="GstPad"><span class="type">GstPad</span></a>, <a href="GstElement.html" title="GstElement"><span class="type">GstElement</span></a>
</div>
</div>
</body>
</html>
